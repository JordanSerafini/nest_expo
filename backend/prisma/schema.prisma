// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Utilisateurs {
  id        String   @id @default(cuid())
  nom       String   
  prenom    String
  email     String   @unique
  password  String
  role      Int     @default(2)
  loggin_attempts Int @default(0)
  blocked_until DateTime?
  telephone String?
}

model Item {
  id                                   Int      @id @default(autoincrement())
  Date                                 DateTime
  BarcodePrice                         Float
  BarcodeWeight                        Float
  PosAddItem                           Boolean
  LoyaltyPoints                        Int
  CalculateLoyaltyFrom                 Int
  GiftVoucher                          Boolean
  IntrastatExcluded                    Boolean
  CreateCustomerProductInCustomerPark  Boolean
  IsMaintenanceContract                Boolean
  IsGuaranteeExtension                 Boolean
  CustomerParkCreation                 Int
  StockBookingAllowed                  Boolean
  AutomaticStockBooking                Boolean
  IncludeToRecursiveReplenishment      Boolean
  IncludeToFabricationReplenishment    Boolean
  IncludeToSupplierReplenishment       Boolean
  CadenceQuantity                      Int
  CadenceNumberOfDays                  Int
  DoNotAssortAssemblyRequestsWithDifferentDates Boolean
  MaximumGapDayToAssort                Int
  NomenclatureAccountingTransferTypeForSale Int
  NomenclatureAccountingTransferTypeForPurchase Int
  VirtualPump                          Boolean
  VirtualStockValue                    Float
  BookedQuantity                       Float
  PurchaseBillOfQuantitiesProgramKeepActiveFromQuoteToOrder Boolean
  NotOnMarket                          Boolean
  PurchaseUnitPriceProgramKeepActiveFromQuoteToOrder Boolean
  CanBePartiallyDelivered              Boolean
  Caption                              String
  OxatisOxatisHandlingSurcharge1St     Float
  OxatisOxatisHandlingSurchargeOthers  Float
  InterventionDurationEqualsQuantity   Boolean
  Height                               Float
  Width                                Float
  Length                               Float
  FamilyId                             String
  OxatisOxatisUseSubFamilyAsBrand      Boolean
  IsManagedByCounterMark               Boolean
  IsCounterMarkForced                  Boolean
  SalePurchaseConversionRate           Float
  LimitDateMode                        Int
  LimitDateSafetyDelay                 Int
  UniqueId                             String
  PurchasePrice                        Float
  ChargeRate                           Float
  ChargeAmount                         Float
  CostPrice                            Float
  InterestRate                         Float
  InterestAmount                       Float
  SalePriceVatExcluded                 Float
  BrandRate                            Float
  VatAmount                            Float
  SalePriceVatIncluded                 Float
  ManageStock                          Boolean
  RealStock                            Float
  Pump                                 Float
  StockValue                           Float
  OrderedQuantity                      Float
  SuppliersOrderedQuantity             Float
  VirtualStock                         Float
  DefaultQuantity                      Float
  Volume                               Float
  Weight                               Float
  NetWeight                            Float
  ComponentsPurchasePrice              Float
  ComponentsCostPrice                  Float
  ComponentsSalePriceVatExcluded       Float
  ComponentsSalePriceVatIncluded       Float
  PrintComponentDetail                 Int
  AssemblingVirtualQuantity            Float
  DisassemblingQuantity                Float
  QuantityUsedToAssemblate             Float
  QuantityFromDisassembling            Float
  AllowNegativeStock                   Boolean
  UseComponentVat                      Boolean
  ApplyPriceListOnComponents           Boolean
  ActiveState                          Int
  AdvisedSalePriceVatExcluded          Float
  SetItemSalePriceWithAdvisedSalePrice Boolean
  TrackingMode                         Int
  AllowComponentsModification          Boolean
  AllowPublishOnWeb                    Boolean
  ImageVersion                         Int
  PriceDecimalNumber                   Int
  IsHumanServicesIncludedInAttestation Boolean
  OxatisOxatisShowInStockNote          Boolean
  OxatisOxatisShowStockLevel           Boolean
  OxatisOxatisShowIfOutOfStock         Boolean
  OxatisOxatisSaleIfOutOfStock         Boolean
  OxatisOxatisSaleIfOutOfStockScenario Int
  OxatisOxatisShowDaysToShip           Boolean
  OxatisOxatisShipPrice                Float
  OxatisOxatisDaysToShip               Int
  OxatisOxatisUserMainSupplierDaysToShip Boolean
  ItemType                             Int
  BillOfQuantitiesProgramKeepActiveFromQuoteToOrder Boolean
  SaleUnitPriceProgramKeepActiveFromQuoteToOrder Boolean
  UpdateComponentsStockInFabrication   Boolean
  CustomersDeliveryOrderPreparingQuantity Float
  CustomersReturnOrderPreparingQuantity Float
  SuppliersDeliveryOrderPreparingQuantity Float
  SuppliersReturnOrderPreparingQuantity Float
  StockBillOfQuantitiesProgramKeepActiveFromQuoteToOrder Boolean
  PurchaseChargesRate                  Float
  PosIsScale                           Boolean
  PosTare                              String?
  ReplenishmentDeliveryAddressType     Int
  ItemImage                            String?
  DesCom                               String
  DesComClear                          String
  OxatisOxatisMetaTitle                String?
  OxatisOxatisMetaDescription          String?
  OxatisOxatisMetaKeywords             String?
  OxatisOxatisBrand                    String?
  MainIntervener                       String?
  IntrastatNc8NomenclatureId           String?
  Group1                               String?
  Group2                               String?
  NotPrintable                         Boolean?
  NotIncluded                          Boolean?
  IsFixedPrice                         Boolean?
  NonInvoiceableType                   Int?
  ComponentCalculationType             Int?
  ReplacementItem                      String?
  WeightUnitId                         String?
  NumberOfItemByPackage                Int
  VolumeUnitId                         String?
  SupplierId                           String
  EcotaxId                             String?
  StockDestination                     Int
  StockVarianceAccount                 String
  CurrentStockAccount                  String
  VatId                                String
  SysModuleId                          String?
  SysDatabaseId                        String?
  SysRecordVersion                     Int
  SysRecordVersionId                   String
  SysEditCounter                       Int
  LimitDateSafetyDelayMode             Int?
  DefaultLifetime                      Int?
  PurchasePriceUpdateType              Int?
  AnalyticAccountingGridId             String?
  PurchaseUnitId                       String?
  DimensionUnitId                      String?
  OxatisOxatisLongDescription          String?
  OxatisOxatisLongDescriptionClear     String?
  OxatisOxatisSmallImage               String?
  PurchaseBillOfQuantitiesProgramProgram String?
  CatalogId                            String?
  CatalogItemId                        String?
  EcotaxFurnitureId                    String?
  PurchaseUnitPriceProgramProgram      String?
  LocalizableCaption2                  String?
  LocalizableDesCom2                   String?
  LocalizableDesComClear2              String?
  LocalizableCaption3                  String?
  LocalizableCaption4                  String?
  LocalizableCaption5                  String?
  LocalizableDesCom3                   String?
  LocalizableDesComClear3              String?
  LocalizableDesCom4                   String?
  LocalizableDesComClear4              String?
  LocalizableDesCom5                   String?
  LocalizableDesComClear5              String?
  IntrastatOriginCountryId             String?
  ParentRangeItemId                    String?
  RangeTypeElementId0                  String?
  RangeTypeElementId1                  String?
  RangeTypeElementId2                  String?
  RangeTypeElementId3                  String?
  RangeTypeElementId4                  String?
  DefaultAllowedStorehouseId           String?
  MaintenanceContractTemplateId        String?
  GuaranteeTypeId                      String?
  StockBillOfQuantitiesProgramProgram  String?
  PosThumbnail                         String?
  GiftVoucherCashValue                 Float?
  GiftVoucherValidityDuration          Int?
  IsExtraFee                           Boolean
  TimeUnitId                           String?
  TechnicalDesCom                      String?
  TechnicalDesComClear                 String?
  LocalizableTechnicalDesCom2          String?
  LocalizableTechnicalDesComClear2     String?
  LocalizableTechnicalDesCom3          String?
  LocalizableTechnicalDesComClear3     String?
  LocalizableTechnicalDesCom4          String?
  LocalizableTechnicalDesComClear4     String?
  LocalizableTechnicalDesCom5          String?
  LocalizableTechnicalDesComClear5     String?
  CompetenceId                         String?
  EquipmentTypeId                      String?
  ScheduleEventTemplateId              String?
  CompetenceNumberToPlan               Int?
  EquipmentTypeNumberToPlan            Int?
  CadenceDuration                      Int
  CadenceDurationType                  Int
  CadenceDurationQuantity              Int
  InstallationTime                     Int
  LabourCode                           String?
  AutoUpdateLabourPrice                Boolean
  IsEquipment                          Boolean
  InstallationCalculationType          Int
  MaterialPricesPurchasePrice          Float
  MaterialPricesChargeRate             Float
  MaterialPricesChargeAmount           Float
  MaterialPricesCostPrice              Float
  MaterialPricesInterestRate           Float
  MaterialPricesInterestAmount         Float
  MaterialPricesSalePriceVatExcluded   Float
  MaterialPricesBrandRate              Float
  MaterialPricesVatId                  String
  MaterialPricesVatAmount              Float
  MaterialPricesSalePriceVatIncluded   Float
  MaterialPricesAdvisedSalePriceVatExcluded Float
  MaterialPricesSetItemSalePriceWithAdvisedSalePrice Boolean
  MaterialPricesIsFixedPrice           Boolean?
  MaterialPricesEcotaxFurnitureId      String?
  LabourPricesPurchasePrice            Float
  LabourPricesChargeRate               Float
  LabourPricesChargeAmount             Float
  LabourPricesCostPrice                Float
  LabourPricesInterestRate             Float
  LabourPricesInterestAmount           Float
  LabourPricesSalePriceVatExcluded     Float
  LabourPricesBrandRate                Float
  LabourPricesVatId                    String
  LabourPricesVatAmount                Float
  LabourPricesSalePriceVatIncluded     Float
  LabourPricesAdvisedSalePriceVatExcluded Float
  LabourPricesSetItemSalePriceWithAdvisedSalePrice Boolean
  LabourPricesIsFixedPrice             Boolean?
  LabourPricesEcotaxFurnitureId        String?
  CanBePartiallyInvoiced               Boolean
  PickMovementDisallowedOnTotallyBookedItem Boolean
  SalePriceModifiedDate                DateTime?
  SalePriceModifiedUserId              String?
  TarifeoCode                          String?
  TarifeoFullCode                      String?
  TarifeoProducerId                    String?
  ProducerName                         String?
  TarifeoPriceDate                     DateTime?
  TarifeoPriceVersion                  String?
  TarifeoUpdateDatetime                DateTime?
  IsSubscription                       Boolean
  SubscriptionPassings                 Int
  SubscriptionTotalCostPrice           Float
  SubscriptionTotalPurchasePrice       Float
  SubscriptionTotalSalePriceVatExcluded Float
  SubscriptionValidityDuration         Int
}

model Customer {
    id                                   Int      @id @default(autoincrement())
  DisallowOrderAssort                  Boolean?
  DueCommitmentsXDay                   Int?
  EffectOfTradeAmount                  Float?
  GenerateVcs                          Boolean?
  InvoicingChargesAmount               Float?
  AutomaticStockBooking                Boolean?
  CustomerToUseInCustomerProducts      Int?
  ExtendedCurrentAmount                Float?
  ThresholdBeforeExceedAmount          Float?
  UseInvoicingAddressAsDeliveryAddress Boolean?
  UseInvoicingContactAsDeliveryContact Boolean?
  MainDeliveryAddress_NPAI             Boolean?
  MainInvoicingAddress_NPAI            Boolean?
  MainDeliveryContact_NaturalPerson    Boolean?
  MainDeliveryContact_Optin            Boolean?
  MainInvoicingContact_NaturalPerson   Boolean?
  MainInvoicingContact_Optin           Boolean?
  NaturalPerson                        Boolean?
  TerritorialityId                     String?
  FinancialDiscountType                Int?
  FinancialDiscountRate                Float?
  FinancialDiscountPaymentDelay        Int?
  ActiveState                          Int?
  DiscountRate                         Float?
  SecondDiscountRate                   Float?
  AllowedAmount                        Float?
  CurrentAmount                        Float?
  InitialAmount                        Float?
  ExceedAmount                         Float?
  MustRetrieveCommitmentsFromAccounting Boolean?
  PriceWithTaxBased                    Boolean?
  MustBeReminder                       Boolean?
  DayNumberToFirstReminder             Int?
  DayNumberToSecondReminder            Int?
  DayNumberToThirdReminder             Int?
  IsCustomerAccount                    Boolean?
  WebContactSendKind                   Int?
  SubjectToRe                          Boolean?
  UniqueId                             String?
  CheckExceedCommitmentDate            Boolean?
  DisallowDeliveryAssort               Boolean?
  SendReminderToPayerThird             Boolean?
  Xx_EnvoiCarteVoeux                   Boolean?
  AssortDeliveryByOrder                Boolean?
  CreatePosDeliveryOrderByDefault      Boolean?
  LoyaltyOriginReportType              Int?
  LoyaltyOriginReportValue             Float?
  LoyaltyValue                         Float?
  LoyaltyCardCreationDate              DateTime?
  LoyaltyCardValidityDuration          Int?
  LoyaltyCardExpiryDate                DateTime?
  LoyaltyCardRenewalDate               DateTime?
  SysRecordVersion                     Int?
  SysRecordVersionId                   String?
  SysEditCounter                       Int?
  SelectedReminderReport               String?
  IdentificationType                   Int?
  Type                                 Int?
  Group1                               String?
  Group2                               String?
  FirstInvoicingDate                   DateTime?
  PaymentDate                          Int?
  MainDeliveryAddress_Longitude        Float?
  MainDeliveryAddress_Latitude         Float?
  SysCreatedDate                       DateTime?
  SysModifiedDate                      DateTime?
  TaxIds_0                             String?
  TaxIds_1                             String?
  TaxIds_2                             String?
  InvoicingCharges_VatId               String?
  LastInvoicingDate                    DateTime?
  StorehouseId                         String?
  SchedulerColor                       Int?
  ShowTechnicalSheetOnFront            Boolean?
  MainDeliveryContact_AllowUsePersonnalDatas Boolean?
  MainInvoicingContact_AllowUsePersonnalDatas Boolean?
  AllowUsePersonnalDatas               Boolean?
  LoyaltyCumulativeTurnoverReport      Float?
  LoyaltyCumulativeTurnover            Float?
  DepositPercentage                    Float?
  SecurityBondRate                     Float?
  SecurityBondRateForGoodCompletedWork Float?
  DefaultBankAccountId                 String?
  MainInvoicingContact_Civility        String?
  MainInvoicingContact_Name            String?
  ThirdLanguage                        String?
  MainInvoicingContact_Firstname       String?
  MainInvoicingContact_Phone           String?
  MainInvoicingContact_Cellphone       String?
  MainInvoicingContact_Fax             String?
  MainInvoicingContact_Email           String?
  Name                                 String?
  MainInvoicingContact_Function        String?
  MainInvoicingContact_Department      String?
  MainInvoicingAddress_Website         String?
  DocumentPrintMention                 String?
  Nic                                  String?
  MainDeliveryContact_Civility         String?
  MainDeliveryContact_Name             String?
  MainDeliveryContact_Firstname        String?
  MainDeliveryContact_FirstName        String?
  MainDeliveryContact_Phone            String?
  MainDeliveryContact_CellPhone        String?
  MainDeliveryContact_Fax              String?
  MainDeliveryContact_Email            String?
  MainDeliveryContact_Function         String?
  MainDeliveryContact_Department       String?
  MainDeliveryAddress_Website          String?
  Accounts_AuxiliaryAccount            String?
  Accounts_DoubtfulAccount             String?
  MainInvoicingAddress_Address1        String?
  MainInvoicingAddress_Address2        String?
  MainInvoicingAddress_Address3        String?
  MainInvoicingAddress_Address4        String?
  MainInvoicingAddress_Zipcode         String?
  MainInvoicingAddress_City            String?
  MainInvoicingAddress_State           String?
  MainInvoicingAddress_Countryisocode  String?
  MainInvoicingAddress_Description     String?
  MainInvoicingAddress_Civility        String?
  MainInvoicingAddress_Thirdname       String?
  MainDeliveryAddress_Address1         String?
  MainDeliveryAddress_Address2         String?
  MainInvoicingContact_FirstName       String?
  MainDeliveryAddress_Address3         String?
  MainDeliveryAddress_Address4         String?
  MainDeliveryAddress_Zipcode          String?
  MainDeliveryAddress_City             String?
  MainDeliveryAddress_State            String?
  MainDeliveryAddress_Countryisocode   String?
  MainDeliveryAddress_Description      String?
  MainDeliveryAddress_Civility         String?
  MainDeliveryAddress_Thirdname        String?
  LoyaltyCard_Type                     String?
  LoyaltyCard_Id                       String?
  Gocardless_ThirdId                   String?
  SysCreatedUser                       String?
  TravelExpenseId                      String?
  SysModifiedUser                      String?
  NotesClear                           String?
  Notes                                String?
  Accounts_BillofexchangeAccountingAccount String?
  Accounts_SecurityBondAccount         String?
  ShippingId                           String?
  DocumentSerialId                     String?
  Accounts_SecurityBondForGoodCompletedWorkAccount String?
  AnalyticAccountingGridId             String?
  BuyerReference                       String?
  Accounts_Account                     String?
  CurrencyId                           String?
  PaymentThirdId                       String?
  InvoicingThirdId                     String?
  ColleagueId                          String?
  TechnicalSheetClear                  String?
  SettlementModeId                     String?
  TechnicalSheet                       String?
  PricelistCategoryId                  String?
  Siren                                String?
  Naf                                  String?
  FamilyId                             String?
  SubfamilyId                          String?
  IntracommunityVatNumber              String?
  MainInvoicingContact_ExternalId_GoogleId String?
  MainInvoicingContact_ExternalId_OutlookId String?
  Civility                             String?
  MainDeliveryContact_ExternalId_GoogleId String?
  MainDeliveryContact_ExternalId_OutlookId String?
  Lat                                  Float?
  Lon                                  Float?
}

model Chantier {
  id                 Int      @id @default(autoincrement())
  name               String
  description        String?
  address            String?
  city               String?
  postal_code        String?
  country            String?
  phone              String?
  email              String?
  contact            String?
  start_date         DateTime?
  end_date           DateTime?
  client_id          Int?
  calendar_id        Int?

  FicheChantier      FicheChantier?
}

model FicheChantier {
  id                 Int      @id @default(autoincrement())
  name               String
  description        String?
  project_supervision String?
  project_manager_id Int?
  chantier_id        Int      @unique
  imageUrl           String?
  audioUrl           String?

  Chantier           Chantier  @relation(fields: [chantier_id], references: [id])
}

model Staff {
  id    Int    @id @default(autoincrement())
  name  String
  grade String?
  role  String?
  phone String?
  email String
}